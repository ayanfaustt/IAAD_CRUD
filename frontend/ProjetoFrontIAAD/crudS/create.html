<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles.css">
    <link rel="shortcut icon" href="../favicon-32x32.png" type="image/x-icon">
    <title>Create</title>
</head>
<header>
    <button class="home_button" >
        <a href="../bancostartup.html">PÃ¡gina inicial</a>
    </button>
</header>
<body>
    <h1 class="title_pag">Insira os dados nos campos abaixo</h1>
    <br>
    <div class="labels">
        <label for="input_id_startup">ID Startup</label>
        <input type="number" id="input_id_startup">

        <label for="input_nome_startups">Nome da startup</label>
        <input type="text" id="input_nome_startup">

        <label for="input_cidade_sede">Nome da cidade sede</label>
        <input type="text" id="input_cidade_sede">

        <button class="submit_buttons" onclick="startupPost()" type="submit">Inserir Dados</button>
        <span id="response"></span>
    </div>
    <script>
        function startupPost(){
            const idS = document.querySelector('#input_id_startup')
            const id = parseInt(idS.value)
            const nome = document.querySelector('#input_nome_startup').value;
            const cidade = document.querySelector('#input_cidade_sede').value;
            const data = {
                id_startup: id,
                nome_startup: nome,
                cidade_sede: cidade,
            }
            console.log(data);
            
            const URL = 'http://localhost:3000/add/startup';
            fetch(`${URL}?id_startup=${id}&nome_startup=${nome}&cidade_sede=${cidade}`, {method: 'POST',
             headers:{"Accept": "application/json"}})
                .then(response => response.json())
                .then(response =>{
                    const feedback = document.querySelector('#response');
                    feedback.innerHTML = response.message; 
                })
                .catch(err=>{
                    console.log(err);
                })
        
        }

    </script>
</body>
</html>